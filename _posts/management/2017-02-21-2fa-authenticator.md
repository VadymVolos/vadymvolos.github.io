---
layout: post
title: Safety Management - двухфакторная аутентификация, Google Authenticator, Authy, и другие аналоги
description: Безопасность онлайн, все детали про Google Authenticator, Authy, и другие аналоги.
categories: [Уроки Менеджмент]
tags: [Безопасность онлайн, Safety Management Online, Маркетинг]
image: /images/posts/google-authenticator-and-authy.png
---
<img src="{{ site.baseurl }}/images/posts/google-authenticator-and-authy.png" alt="Двухфакторная аутентификация, Google Authenticator, Authy" title="Пост про то как пользоваться Google Authenticator, Authy и другими">

Ниже в статье буду рассматривать все детали двухфакторной аутентификации с помощью приложения Google Authenticator и его аналогов. SMS и все остальные виды аутентификации в этой статье рассматриваться не будут.

<b>Two-factor authentication (2FA), 2-Step verification</b> - двухфакторная аутентификация, двухэтапная аутентификация, двухэтапная проверка.

<b>Аутентификация</b> - это процедура проверки подлинности.

Основные варианты:
- Подтверждение по емейл = 1FA
- Подтверждение по емейл + sms = 2FA
- Подтверждение по емейл + authenticator = 2FA
- Подтверждение по емейл + usb ключ = 2FA
- Другие варианты...


<h2>Зачем нужна двухфакторная аутентификация?</h2>

Взлом паролей довольно частое явление. Чтоб обезопасить пользователя от взлома уважающие себя сервисы добавляют вторую защиту. Злоумышленнику нужно будет не только взломать ваш комп (подсмотреть ваш пароль) но и добраться до вашего второго устройства.

<h3>Чаще пароли взламывают:</h3>
- если они сильно простые и предсказуемые;
- если вы используете один и тот же пароль на двух и более сайтах;
- если вы на комп и смартфон устанавливаете взломанные или непонятные программы и браузерные дополнения (там может быть невидимая для обычного пользователя программа, которая шпионит за вами, записывает ваш буфер обмена, ваши нажатия на клаве, и ваши действия на экране).
- фишинг (рыбалка) - вам подсовывают точно такой же сайт, вы не подозревая вводите туда свои данные, а это оказывается копия сайта, которая сделана специально чтоб узнать ваши данные для аторизации. Рыбалку также используют в емейл письмах, присылают вам письмо которое один в один похоже на письмо вашего сайта, и в этом письме вам сообщают что-то срочное и важное (или акцию), чтоб справоцирвоть вас нажать на кнопку или перейти по ссылке, когда вы переходите вы попадаете не на свой сайт, а на идентичный, который создан с целью чтоб вы сами вписали свой логин и пароль не подозревая что это не оригинальный сайт.

<!-- accordion -->
<ul class="accordion">
	<li class="accordion-li">
		<a class="accordion-a"><h2>Как настроить Google Authenticator?</h2></a>
		<div class="accordion-content">
		<p>
		Картинки c инструкциями тут постить не буду, потому что на разных сайтах кнопка для включения Google Authenticator может быть в разном месте, расскажу смысл.
		</p><p>
		Смысл в том что если сайт важный, и вы решили включить защиту не с помощью sms а с помощью Google Authenticator, то вам нужно посмотреть поддерживает ли этот сайт Google Authenticator. Если да, то там обязательно есть инструкция с картинками как его подключить. Также посмотрите в инструкции что делать если телефон будет утерян, это полезно узнать перед подключением.
		</p><p>
		Если вы не готовы к защите с помощью Google Authenticator, включите защиту с помощью sms кодов - это проще, и понятнее, и лучше, чем если у вас будет вход только по паролю. Защита по sms бесплатная, sms-ки вам присылают бесплатно.
		</p><p>
		Но бывают сайты которые обязательно требуют включить Google Authenticator, если у них на сайте нет sms защиты и они не хотят тратить деньги на отправление sms, тогда они используют Google Authenticator, и обязательно требуют его подключить, с целью добавить безопасность своим пользователям и существенно сократить количество взломов аккаунтов.
		</p>
		<p>		
		<h3>Как настроить Google Authenticator?</h3>
		<ol>
			<li>В своем смартофне заходите в магазин приложений, и там в поиске находите и устанавливаете Google Authenticator (он бесплатный).</li>
			<li>С компа заходите на ваш сайт где вы собрались подключать, переходите на страницу для подключения.</li>
			<li>Там на страние будет квадратный штрих-код, возле штрих-кода будет написаный в стоку код из символов, и штрих-код и этот код одно и тоже.</li>
			<li>На смартоне запускаете Google Authenticator, в нем нажимаете на плюсик. Там будет два варианта или сканировать штрих-код или ввести ключ. Если у вас есть камера на смартофне, тогда выбираете "Сканировать штрих-код"</li>
			<li>Подносите смартфон к экрану компьютера там где открыт ваш сайт со штрих-кодом, и все, штрих-код считан и добавлен. В программе Google Authenticator начинают генерироватся 30 секундные коды, вам нужно вписать 30 секундный код на странице сайта в окошко под штрих-кодом, и нажать подтвердить.</li>
			<li>Все, вы подклчючили к сайту Google Authenticator, теперь когда вы будете входить на сайт вас спросит логин, пароль, и код с Google Authenticator'а (чтоб посмотреть код вам нужно ткрыть приложение на смартоне и посмотреть код, потом его вписать в окошко на сайте).</li>
		</ol> 
</p>
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Почему приложение для смартфона лучше чем приложение для ПК?</h2></a>
		<div class="accordion-content">
        <p>
        Приложений 2FA для ПК существует не много, а вот приложений для смартфонов очень много. 
        </p><p>
        Google Authenticator - официальное приложение от Гугл, его нет для ПК с целью безопасности, но для смартфонов (Андроид, Эпл, Майкрософт) оно обязательно есть.
        </p><p>
        Почему лучше, потому что одноразовый 30 секундный код генерируется на другом устройстве отдаленном от вашего ПК/ноутбука, что снижает риски и повышает безопасность.  
        </p><p>
        Но есть и недостаток, при потере смартфона (или при удалении программы Authenticator'а со смартфона, или при перепрошивке смартфона) нужно будет восстанавливать коды...
        </p><p>
        Еще один недостаток приложений на ПК - они дают возможность сделать экспорт генерального кода (посмотреть и скопировать его). То есть не разовых 30 секундных кодов, а того который вы вводили при добавлении аккаунта (сканировали штрих код). Тот кто владеет этим кодом может генерировать правильные коды без вашего ведома. Поэтому в Google Authenticator'е нет возможности экспорта, и во всех других аналогичных программах тоже нет возможности экспорта, с той целью чтоб ваша безопасность не пострадала. Смысл Google Authenticator'а полностью пропадает если кто-то сможет взять на время ваш телефон поиграться, и пока вы не видите посмотреть ваш код и отправить его себе на почту/в мессенджер/соцети, или сфотографировать его, или сделать скриншот кода, и тп.
        </p><p>
        Если вы потеряли смартфон. Вам нужно зайти на тот сайт где вы включали защиту с помощью Google Authenticator'а, и почитать страницу с ответами на опросы FAQ, там обязательно должен быть пункт что делать если я включил Google Authenticator и потерял телефон. Вам нужно будет подтвердить свою личность теми способами которые там написаны и после этого они дадут вам возможность войти в ваш аккаунт и подключить новый смартфон (сгенерировать новый код для смартфона).
        </p><p>
        Как вариант на этапе добавления аккаунта (экран со штрих кодом), вы можете сохранить главный пароль в надежное место. И если будет телефон утерян, сможете ввести этот код на новом смартфоне. Но при сохранении кода, нужно учесть безопасность, если вы скопируете его в буфер, и если у вас установлена программа шпион (о которой вы не догадываетесь) то она может с буфера сохранить код себе. Лучше важные операции делать в защищенном режиме браузера (некоторые антивирусы предоставляют такую возможность для банковских операций). Этот пароль лучше не сохранять в то место где вы держите пароли, а сохранить отдельно. И также желательно зашифровать и запаролить.
        </p>
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Почему Google Authenticator лучше чем код в sms?</h2></a>
		<div class="accordion-content">
		Данные хранятся локально и не передаются со стороны сайта, значит их нельзя перехватить, и значит это более надежно.
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Какие есть приложения двухэтапной аутентификации для ПК</h2></a>
		<div class="accordion-content">
        <p>
        <b>Authy</b> - для активации присылают смс на телефон, если телефон потеряете то нужно будет восстановить номер у оператора, чтоб потом была возможность получить смс на него и войти в приложение. Дает возможность доступа к вашим кодам с разных устройств, можно установить на ПК, мобильный, планшет и тп). Для подключения других устройств нужно в настройках дать разрешение на это. Для безопасности все же лучше использовать генератор кодов только на одном устройстве.
        </p><p>
        <b>2 Factor Authenticatior</b> – приложение, его нет в интернете, оно есть в Магазине Виндовс, если у вас Windows8 или Windows10 в системе есть магазин, там можно найти его и установить, оно бесплатное, недостаток оно опаздывает. В Магазине Виндовс есть и другие похожие приложения, но все они пока не очень, опаздывают.
        </p><p>
        <b>WinAuth</b> – программа которая скачивается с интернета и устанавливается на ваш ПК. Насколько она надежная, или насколько ей можно доверять, не знаю, не проверял. Умеет делать экспорт всех ключей в текстовый файл, это опасно.
        </p><p>
        <b>Приложение для браузера хром Authenticator</b> ( chrome.google.com/webstore/detail/authenticator/bhghoamapcdpbohphigoooaddinpkbai ) - не рекомендую устанавливать. Приложение устанавливается в браузер и генерирует коды. Разработчик приложения малоизвестный китаец, неизвестно насколько безопасно хранить коды в нем. Новички любят эту программу потому что она простая, и потому что она дает возможность сделать бекап (резервную копию секретных кодов ваших ключей). Но возможность делать бекап с помощью просмотра секретного кода это дырка в безопасности, любой сможет сделать бекап и ваша защита и возня с кодами доступа становится бессмысленная. У известных брендов в приложениях нет возможности посмотреть секретный код, так как это прямая угроза безопасности. Разовые коды которые генерируют программы никому не нужны так как они каждые 30 секунд меняются, а вот если завладеть вашим секретным ключом, можно будет потом без вашего ведома генерировать правильные коды и с помощью их попасть к вам на ваши защищенные сайты.
        </p>
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Какие есть приложения двухэтапной аутентификации для смартфонов</h2></a>
		<div class="accordion-content">
       		<p>
		Для смартфонов приложения много, ссылки давать не будут так как все приложения находятся в магазинах (Google Play, App Store, Windows Store) и их можно там легко найти вписав название в поиск.
		</p>
		<ul>
		<li>Google Authenticator (Генератор кодов Google)</li>
		<li>Microsoft Authenticator (доступен для Андроида, Эпл, и Вин)</li>
		<li>LastPass Authenticator</li>
		<li>Authy 2-Factor Authentication</li>
		<li>Яндекс.Ключ</li>
		<li>SAASPASS | Authenticator 2FA (идея интересная но бывает подвисает на телефоне)</li>
		<li>MyDigipass Authenticator (не проверял не знаю)</li>
		<li>Authlogics Authenticator (не проверял не знаю)</li>
		<li>И еще много других...</li>
		</ul>
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Как пользоваться Authy</h2></a>
		<div class="accordion-content">
                <p>
		Сервис интересный, бесплатный для личного использования. Для бизнеса платный, но недорого (100 авторизаций в месяц бесплатно, а потом $ 0,045 за одну авторизацию). На их сайте можно скачать программу для ПК (для браузера) и для смартфона. Вход в программу на самом сайте не предусмотрен. Вы входите только через программу которая в браузере или в приложении на смартфоне. Authy это альтернатива программе Google Authenticator, но более продвинутая. Решает проблему доступа к кодам с нескольких устройств. Также умеет делать бекапы, которые хранятся зашифровано у них на сервере, к бекапу можете получить доступ только вы с помощью телефона и вашего пароля от бекапа. При создании бекапа программа Authy секретный мастер ключ от сайтов не показывает и не дает возможности его узнать - это хорошо.
       		</p><p>
        Недостаток - если потеряете телефон, то на том телефоне коды дальше будут генерироваться. Можно отключить с другого устройства доступ к телефону, но после отключения все коды на утерянном телефоне дальше будут генерироваться. Поэтому нужно ставить хороший пароль на саму программу и еще один хороший другой пароль для доступа к бекапу, и еще один хороший пароль на телефон (смартфон). 
		</p><p>
        Еще один недостаток - идет привязка к номеру телефона, вы не сможете войти на другом устройстве пока не подтвердите код из смс. Если вы посеяли телефон то не сможете получить смс.
		</p><p>
        У программы есть два пароля, один для доступа к программе, второй для доступа к бекапу.
        Первый слетает после удаления программы, и при след установке, вы задаете заново пароль, этот пароль локальный он не передается на сервер а действует для запрета доступа к программе без разрешения. Второй пароль хранится на сервере, он нужен для доступа к бекапу в котором хранятся все ваши записи которые генерирую 30 сек коды.
		</p><p>
        В приложении есть возможность запретить мульти-устройства, например на ПК авторизировались в Authy с помощью смс, в настройках отключили мультиустройсва (по умолчания они отключены), и если вы потом захотели подключить еще смартфон, то на смартфоне вылезет сообщение мульти-устройства запрещены, зайдите с активированного приложения и в настройках разрешите доступ.
		</p><p>
        Если вы забыли пароль к бекапу, то новый бекап создать не получится, нужно будет полностью очистить аккаунт, удалить все записи, и тогда можно будет создать новый бекап с новым паролем.
		</p>
		<h3>Как пользоваться Authy на ПК:</h3>
		<p>
Если вы хотите использовать только на ПК, тогда
		</p><p>
1. На смартфон ничего устанавливать не нужно.
		</p><p>
2. Устанавливаете приложение для браузера 
<a rel="nofollow" target="_blank" href="https://www.authy.com/app/desktop/">www.authy.com/app/desktop/</a>
		</p><p>
3. После установки предложит установить еще одно предложение для браузера, да они нужны оба, устанавливаете второе.
		</p><p>
4. В браузере сверху появится значок, нажимаете его, выбираете своей код страны, и вписываете номер своего моб телефона.
		</p><p>
5. На номер придет смс, код из смс нужно ввести на ПК в приложении, чтоб активировать приложение.
		</p><p>
6. Ввели код, вас пустило внутрь приложения.
		</p><p>
7. Вам нужно задать код для доступа к программе, вписываете, главное не забудьте его. При переустановке программы этого кода не будет, и вам придется заново активировать с помощью смс и потом назначать новый код.
		</p><p>
8. Если вы хотите чтоб после переустановки программы, все ваши коды остались, нужно в настройках включить бекап в облако "Backups & Sync", и нужно назначить пароль для бекапа. После чего все ваши добавленные аккаунты будут автоматически добавляться в облако.
		</p><p>
9. После того как вы назначили пароль для доступа в программу, и пароль для бекапа, желательно в настройках добавить свой емейл, и подтвердить его.
		</p><p>
10. Все, теперь вы можете добавлять нужные вам сайты. Чтоб добавить сайт нужно нажать на шестеренку, откроется окно с настройками, перейдите на вкладку "External Accaunts" снизу будет надпись "Add Authenticator Account", нажимаете и вписываете там код от вашего сайта (код который возле штрих-кода, штрих-код и код идентичны, в программе нужно вписать код. На следующем шаге выбираете любую иконку, пункт Token lenght: 6-digh, и потом в окошке ниже вписываете любое имя, но желательно чтоб имя было такое как ваш сайт, чтоб вы знали какой код для какого сайта. После чего нажимаете кнопку "Done", и потом закрываете окно с настройками (нажимаете на крестик). Окно закрылось и автоматом открылось маленькое окно с вашим добавленным сайтом, можете нажать на свой добавленный сайт и там увидите 30 секундные коды доступа.
		</p><p>
11. Если хотите дать доступ другим устройствам, нужно нажать на шестеренку, перейти на вкладку "Devices" и там поставить галочку "Multi-device". После чего вам нужно установить приложение на смартфоне, или приложение для браузера на другом ПК, запустить это приложение, оно попросит ввести номер телефона, вводите тот номер который закреплен за вашей учетной записью, и после чего там предложит варианты для авторизации (смс, голосовой звонок, подтверждение с помощью активированного устройства (с помощью которого вы уже вошли в аккаунт)).
		</p>
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Рекомендации от меня</h2></a>
		<div class="accordion-content">
		<p>
		1. На этапе штрих-кода, когда вы подносите телефон к экрану для того чтобы считать штрих-код, рядом со штрих-кодом есть написанный код из символов, сохраните его в недоступное место. Если вы посеете телефон (или он поломается, или удалите программу на нем), то не нужно будет восстанавливать номер, достаточно будет взять другой телефон и в программу Authenticator вписать этот ваш сохраненный код, после чего Authenticator будет генерировать 30 секундные коды именно такие которые дают возможность войти на ваш сайт.
		</p><p>
		2. Если у вас сайтов к которым подключен Authenticator много, да, от каждого сайта у вас будет отдельный главный код.
		</p><p>
		3. Эти коды хранить вместе с паролями нельзя, ибо если кто то доберется до паролей, то нельзя чтоб он одновременно добрался до ваших кодов от Authenticator'a. Секретные коды от Authenticator'a лучше хранить отдельно от паролей, в другом зашифрованном запароленом месте, и в случае если с телефоном что-то случится, вы сможете без головной боли быстро восстановить генерацию кодов для всех ваших сайтов.
		</p>
		</div>
	</li>

<!--
	<li class="accordion-li">
		<a class="accordion-a"><h2>Dolor sit Amet</h2></a>
		<div class="accordion-content">
		<p></p>
		</div>
	</li>
	<li class="accordion-li">
		<a class="accordion-a"><h2>Dolor sit Amet</h2></a>
		<div class="accordion-content">
		<p></p>
		</div>
	</li>
-->

</ul><!-- / accordion -->  
